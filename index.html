<!DOCTYPE html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="styles.css">
    <title id="title">No more woke nonsense</title>
</head>

<html>
    <body>

        <!-- Page sections -->
        <a id="top"></a>

        <!-- Navbar -->
        <nav class="navbar" id="navbar">
            <button class="nav-toggle" id="navToggle" aria-label="Toggle menu">☰</button>

            <div class="nav-left" id="navMenu">
                <a href="#top" class="nav-link">Home</a>
                <a href="#gameplay" class="nav-link">Gameplay</a>
            </div>

            <h3 class="nav-title">Cohort 3 Group 11</h3>

            <div class="nav-right">
                <a href="#deliverables" class="nav-link">Deliverables</a>
                <a href="#team" class="nav-link">Team</a>
            </div>
        </nav>

        <!-- Gameplay section -->
        <section id="gameplay">
            <figure class="game-media">
                <div class="media-shell">
                    <div class="media-frame">
                        <video class="game-video" id="gameVideo" controls playsinline preload="metadata" poster="Images/bobcapturegame.png">
                            <source src="Videos/gameplay.mp4" type="video/mp4">
                            <source src="Videos/gameplay.webm" type="video/webm">
                            Your browser does not support the video tag.
                        </video>
                        <button class="media-play" id="mediaPlay" aria-label="Play video">▶</button>
                    </div>
                </div>
                <figcaption class="media-caption">
                    <span class="media-title">Gameplay Preview</span>
                    <span class="media-subtitle">A quick look at core mechanics and moment-to-moment action.</span>
                </figcaption>
            </figure>
        </section>

        <!-- Deliverables section -->
        <section id="deliverables">
            <div class="pdf-menu" id="pdfMenu">
                <h3>Deliverables</h3>

                <!-- Old/New -->
                <nav class="pdf-group-nav" aria-label="Deliverable groups">
                    <button class="pdf-group-tab active" data-group="old">Old</button>
                    <button class="pdf-group-tab" data-group="new">New</button>
                </nav>

                <!-- 5 selectors (labels update per group) -->
                <nav class="pdf-nav" aria-label="PDF selector">
                    <button class="pdf-tab active" data-index="0">PDF 1</button>
                    <button class="pdf-tab" data-index="1">PDF 2</button>
                    <button class="pdf-tab" data-index="2">PDF 3</button>
                    <button class="pdf-tab" data-index="3">PDF 4</button>
                    <button class="pdf-tab" data-index="4">PDF 5</button>
                </nav>

                <div class="pdf-view">
                    <iframe id="pdfFrame" title="PDF preview" src="" loading="lazy"></iframe>
                </div>

                <div class="pdf-actions">
                    <a id="viewFullBtn" class="btn" target="_blank" rel="noopener">View full PDF</a>
                    <a id="downloadBtn" class="btn" download>Download PDF</a>
                </div>
            </div>
        </section>

        <!-- Team section -->
        <section id="team">
            <div class="team">
                <p>Harry Turner</p>
                <p>Arnav Jamidar</p>
                <p>Callum Newton</p>
                <p>Joshua Wainwright</p>
                <p>Daniel Thwaites</p>
                <p>Piotr Koziol</p>
                <p>Sarvesh Sridhar</p>
                <p>Harrison Barrans</p>
            </div>
        </section>

        <script>
            // Hamburger menu toggle
            (function(){
                const nav = document.getElementById('navbar');
                const toggle = document.getElementById('navToggle');
                const links = document.querySelectorAll('.nav-link');

                if (!nav || !toggle) return;

                toggle.addEventListener('click', () => {
                    nav.classList.toggle('nav-open');
                });

                // Close menu when any link is clicked
                links.forEach(link => {
                    link.addEventListener('click', () => {
                        nav.classList.remove('nav-open');
                    });
                });
            })();
        </script>

        <script>
            (function () {
                // Point these to your real files in /pdfs
                const groups = {
                    old: [
                        { title: 'Requirements', src: 'pdfs/Arch1.pdf' },
                        { title: 'Architecture', src: 'pdfs/old2.pdf' },
                        { title: 'Risk Assessment', src: 'pdfs/old3.pdf' },
                        { title: 'Planning', src: 'pdfs/old4.pdf' },
                        { title: 'Implementation', src: 'pdfs/old5.pdf' }
                    ],
                    new: [
                        { title: 'Change Report', src: 'pdfs/new1.pdf' },
                        { title: 'Implementation', src: 'pdfs/new2.pdf' },
                        { title: 'Testing', src: 'pdfs/new3.pdf' },
                        { title: 'User Evaluation', src: 'pdfs/new4.pdf' },
                        { title: 'CI', src: 'pdfs/new5.pdf' }
                    ]
                };

                const frame = document.getElementById('pdfFrame');
                const viewFull = document.getElementById('viewFullBtn');
                const download = document.getElementById('downloadBtn');

                const groupTabs = document.querySelectorAll('.pdf-group-tab');
                const pdfTabs = document.querySelectorAll('.pdf-tab');

                let currentGroup = 'old';
                let currentIndex = 0;

                function updateTabLabels(group) {
                    const pdfs = groups[group];
                    pdfTabs.forEach((tab, idx) => {
                        if (pdfs[idx]) tab.textContent = pdfs[idx].title;
                    });
                }

                function loadPdf(group, i) {
                    const pdf = groups[group][i];
                    if (!pdf) return;
                    // Simple inline PDF (no PDF.js)
                    frame.src = pdf.src + '#toolbar=0&navpanes=0';
                    viewFull.href = pdf.src;
                    download.href = pdf.src;
                    download.setAttribute('download', pdf.src.split('/').pop());
                }

                function setActiveTab(i) {
                    pdfTabs.forEach(t => t.classList.remove('active'));
                    pdfTabs[i].classList.add('active');
                }

                function switchGroup(group) {
                    currentGroup = group;
                    groupTabs.forEach(t => t.classList.toggle('active', t.dataset.group === group));
                    updateTabLabels(group);
                    loadPdf(currentGroup, currentIndex);
                }

                groupTabs.forEach(btn => {
                    btn.addEventListener('click', () => switchGroup(btn.dataset.group));
                });

                pdfTabs.forEach((btn, idx) => {
                    btn.addEventListener('click', () => {
                        currentIndex = idx;
                        setActiveTab(idx);
                        loadPdf(currentGroup, currentIndex);
                    });
                });

                // Init
                updateTabLabels('old');
                setActiveTab(0);
                loadPdf('old', 0);
            })();
        </script>
        <!-- End PDF Menu -->

        <script>
            // filepath: c:\WEB DEV\ENG1-3-11\website-2\index.html
            (function(){
    const v = document.getElementById('gameVideo');
    const btn = document.getElementById('mediaPlay');
    if (!v || !btn) return;

    function toggleOverlay() {
        const show = v.paused;
        btn.style.opacity = show ? 1 : 0;
        btn.style.pointerEvents = show ? 'auto' : 'none';
    }

    btn.addEventListener('click', () => {
        v.play().catch(()=>{});
        toggleOverlay();
    });

    v.addEventListener('play', toggleOverlay);
    v.addEventListener('pause', toggleOverlay);
    v.addEventListener('ended', toggleOverlay);

    // Init overlay based on poster
    toggleOverlay();
})();
        </script>

    </body>
</html>